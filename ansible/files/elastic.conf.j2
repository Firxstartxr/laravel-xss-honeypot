#!/usr/bin/expect -f
set timeout -1
spawn /usr/share/elasticsearch/bin/elasticsearch-setup-passwords interactive
expect "N]"
send -- "y\n"
expect "elastic]: "
send -- "{{kibana_password}}\n"
expect "elastic]: "
send -- "{{kibana_password}}\n"
expect "apm_system]: " 
send -- "{{kibana_password}}\n"
expect "apm_system]: " 
send -- "{{kibana_password}}\n"
expect "kibana_system]: "
send -- "{{kibana_password}}\n"
expect "kibana_system]: "
send -- "{{kibana_password}}\n"
expect "logstash_system]: "
send -- "{{kibana_password}}\n"
expect "logstash_system]: "
send -- "{{kibana_password}}\n"
expect "beats_system]: "
send -- "{{kibana_password}}\n"
expect "beats_system]: "
send -- "{{kibana_password}}\n"
expect "remote_monitoring_user]: "
send -- "{{kibana_password}}\n"
expect "remote_monitoring_user]: "
send -- "{{kibana_password}}\n"
expect eof